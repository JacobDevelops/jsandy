# Focus Guards Utility

The Focus Guards Utility is a React-based module designed to inject focus guards at the edges of the DOM tree. This ensures that `focusin` and `focusout` events can be caught consistently, which is crucial for managing focus in complex applications, especially those with modal dialogs or other focus-trapping scenarios.

## Components and Hooks

### `FocusGuards` Component

A wrapper component that applies focus guards to its children.

Usage:

```jsx
import { FocusGuards } from '@jsandy/ui/focus-guards';

function App() {
  return <FocusGuards>{/* Your app content */}</FocusGuards>;
}
```

### `useFocusGuards` Hook

A custom hook that injects focus guards into the DOM.

Usage:

```jsx
import { useFocusGuards } from './focus-guards';

function MyComponent() {
  useFocusGuards();

  return (
    // Your component content
  );
}
```

## How It Works

1. The utility creates invisible `<span>` elements at the beginning and end of the `<body>`.
2. These elements have `tabIndex={0}`, allowing them to receive focus.
3. The elements are styled to be visually hidden and not interfere with user interactions.
4. The utility keeps track of how many components have requested focus guards, ensuring they are only added once and removed when no longer needed.

## Use Cases

- Ensuring consistent focus management in single-page applications
- Improving accessibility in complex UIs with multiple focusable sections
- Facilitating proper focus trapping in modal dialogs or other overlay components

## Performance Considerations

- The focus guards are only added once, regardless of how many components use the utility.
- The utility uses React's `useEffect` hook to manage the lifecycle of the focus guards, ensuring they are properly cleaned up when no longer needed.

## Exports

- `FocusGuards`: The main component for wrapping your application
- `Root`: An alias for `FocusGuards`
- `useFocusGuards`: A hook for using focus guards in custom components

By using this Focus Guards Utility, you can ensure more reliable focus management in your React applications, improving both the user experience and accessibility of your interfaces.
